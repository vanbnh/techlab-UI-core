import{r as l,e as p,j as s,p as z,o as Be,n as V,x as D,R as He,C as te,$ as Z,O as ae,t as re,a0 as le,i as Me,b7 as Ve,b8 as se,L as ne,d as Ue,aa as Ke,b9 as Je,b2 as Xe,a2 as Ye,ba as Ze,a8 as qe,a7 as ke,bb as Qe,y as et,bc as tt,bd as Le,q as st,V as nt,a9 as ot}from"./index.3dcf88af.js";import{D as je,M as it,P as at,C as B,R as rt,a as oe,L as Oe,p as Ee,q as Te,r as Re,s as Ae,t as ze,u as ie,v as Fe,w as Ie,x as _e,G as lt,d as ct,S as dt,e as mt,y as ut,z as pt,I as gt,V as ht,f as ft,T as Ct,g as xt,h as bt,i as vt,j as yt,A as Nt,B as St,k as wt,l as Pt,E as kt,F as Lt,m as Ot,n as Et,o as Tt}from"./react-paginate.37a7aa8b.js";import{L as Rt}from"./Loading.21597e23.js";import{S as At}from"./flatpickr.33727122.js";import{u as zt}from"./useQuery.f1204b34.js";function Ft(e,i){if(e==null)return{};var t=It(e,i),n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],!(i.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(t[n]=e[n]))}return t}function It(e,i){if(e==null)return{};var t={},n=Object.keys(e),o,a;for(a=0;a<n.length;a++)o=n[a],!(i.indexOf(o)>=0)&&(t[o]=e[o]);return t}var ce=l.exports.forwardRef(function(e,i){var t=e.color,n=t===void 0?"currentColor":t,o=e.size,a=o===void 0?24:o,r=Ft(e,["color","size"]);return p("svg",{ref:i,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...r,children:[s("circle",{cx:"12",cy:"12",r:"10"}),s("polyline",{points:"8 12 12 16 16 12"}),s("line",{x1:"12",y1:"8",x2:"12",y2:"16"})]})});ce.propTypes={color:z.exports.string,size:z.exports.oneOfType([z.exports.string,z.exports.number])};ce.displayName="ArrowDownCircle";const _t=ce;function Mt(e,i){if(e==null)return{};var t=jt(e,i),n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],!(i.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(t[n]=e[n]))}return t}function jt(e,i){if(e==null)return{};var t={},n=Object.keys(e),o,a;for(a=0;a<n.length;a++)o=n[a],!(i.indexOf(o)>=0)&&(t[o]=e[o]);return t}var de=l.exports.forwardRef(function(e,i){var t=e.color,n=t===void 0?"currentColor":t,o=e.size,a=o===void 0?24:o,r=Mt(e,["color","size"]);return p("svg",{ref:i,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...r,children:[s("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),s("polyline",{points:"17 21 17 13 7 13 7 21"}),s("polyline",{points:"7 3 7 8 15 8"})]})});de.propTypes={color:z.exports.string,size:z.exports.oneOfType([z.exports.string,z.exports.number])};de.displayName="Save";const $t=de;function Dt(e,i){if(e==null)return{};var t=Gt(e,i),n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],!(i.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(t[n]=e[n]))}return t}function Gt(e,i){if(e==null)return{};var t={},n=Object.keys(e),o,a;for(a=0;a<n.length;a++)o=n[a],!(i.indexOf(o)>=0)&&(t[o]=e[o]);return t}var me=l.exports.forwardRef(function(e,i){var t=e.color,n=t===void 0?"currentColor":t,o=e.size,a=o===void 0?24:o,r=Dt(e,["color","size"]);return p("svg",{ref:i,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...r,children:[s("polyline",{points:"3 6 5 6 21 6"}),s("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})});me.propTypes={color:z.exports.string,size:z.exports.oneOfType([z.exports.string,z.exports.number])};me.displayName="Trash";const Wt=me,Bt=({value:e,row:i,column:t})=>{const n=Be(),o=t.validLink!==void 0?t.validLink(i):!0;return s("button",{type:"button",onClick:()=>o&&n(t.to(i)),className:`${o?"cursor-pointer text-decoration-underline text-primary":""} border-0 bg-transparent`,children:e})},Ht=e=>s(je,{formatterComponent:Bt,...e}),Vt=["equal","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual"],Ut=({value:e,onValueChange:i})=>s("input",{className:"form-control text-right",type:"number",placeholder:"Filter...",value:e===void 0?"":e,min:0,onChange:n=>{const{value:o}=n.target;if(o.trim()===""){i();return}i(parseInt(o,10))}}),Kt=e=>s(je,{availableFilterOperations:Vt,editorComponent:Ut,...e}),M=(e,i,t)=>{let n={};const o=localStorage.getItem(e);o?n={...JSON.parse(o),[i]:t}:n={...n,[i]:t},localStorage.setItem(e,JSON.stringify(n))},I=(e,i,t)=>{const n=localStorage.getItem(e);if(n){const o=JSON.parse(n);if(o&&o[i])return Array.isArray(o[i])&&o[i].length===0?t:o[i]}return t},Jt=e=>e.reduce((i,t)=>t.summaries&&t.summaries.length>0?[...i,...t.summaries.map(n=>({columnName:t.name,type:n}))]:i,[]),Xt=(e,i)=>{const t={left:[],right:[]},n=i.map(a=>a.name),o=Math.round(i.length/2);return e.forEach(a=>{n.indexOf(a)+1<o?t.left.push(a):t.right.push(a)}),t},Yt=({values:e,setValues:i,options:t})=>{const{t:n}=V(),o=t.map(r=>({...r,label:n(r.label)})),a=e.map(r=>({...r,label:n(r.label)}));return p(Z,{children:[s(ae,{className:"pb-1",children:s(re,{children:n("Permissions")})}),s(le,{children:s(At,{placeholder:n("Select permissions..."),isMulti:!0,value:a,options:o,isClearable:!1,onChange:r=>i(r)})})]})},Zt=({pageSizeValues:e,setPageSizeValues:i})=>{const{t}=V(),[n,o]=l.exports.useState(-1),[a,r]=l.exports.useState(-1),[C,S]=l.exports.useState(""),x=u=>{r(e[u]),o(u)},b=()=>{r(-1),o(-1),S("")},L=()=>{o(e.length),r(e[e.length-1]*2)},h=()=>{const u=[...e];n===e.length?u.push(a):u[n]=a,i(u.map(N=>+N)),b()},k=()=>{const u=[...e];u.splice(n,1),i(u),b()};return l.exports.useEffect(()=>{let u="";if(n===0&&e.length>1){const N=e[1];a>=N&&(u=`${t("The value must be less than")} ${N}`)}if(n>0&&n<e.length-1){const N=e[n-1],R=e[n+1];a<=N?u=`${t("The value must be greater than")} ${N}`:a>=R&&(u=`${t("The value must be less than")} ${R}`)}if(n===e.length){const N=e[e.length-1];a<=N&&(u=`${t("The value must be greater than")} ${N}`)}S(u)},[a,n,e]),p(Z,{stretch:!0,children:[s(ae,{className:"pb-1",children:s(re,{children:t("Pagings")})}),p(le,{children:[p("div",{className:"d-flex overflow-auto",children:[e.map((u,N)=>s(D,{outline:n!==N,className:"me-50",color:"primary",onClick:()=>x(N),size:"sm",children:u},u)),s("div",{children:s(D.Ripple,{className:"btn-icon",color:"primary",onClick:L,children:s(at,{size:16})})})]}),n>-1&&p("div",{className:"row mt-1",children:[p("div",{className:"col-8 d-flex",children:[s("div",{children:s(Me,{type:"number",min:0,autoComplete:"custom-page-size-number",value:a,onChange:u=>r(u.target.value)})}),p("div",{className:"d-flex ms-1 mt-25",children:[s("div",{children:s(D.Ripple,{color:"flat-secondary",className:"btn-icon",size:"sm",onClick:b,children:s(Ve,{size:16})})}),s("div",{children:s(D.Ripple,{color:"flat-danger",className:"btn-icon",size:"sm",onClick:k,children:s(Wt,{size:16})})}),s("div",{children:s(D.Ripple,{color:"flat-success",className:"btn-icon",size:"sm",onClick:h,children:s($t,{size:16})})})]})]}),C&&s("div",{className:"text-danger mt-25 ms-25",children:C})]})]})]})},qt=({customizerValue:e,setCustomizerValue:i,resizingModeValue:t,setResizingModeValue:n,columnDisplayValues:o,setColumnDisplayValues:a,fixedColumnValues:r,setFixedColumnValues:C,columnVisibilities:S,setColumnVisibilities:x,filterCols:b,setFilterCols:L})=>{const{t:h}=V(),k=m=>{const{name:v,checked:f}=m.target;i(y=>f?[...y,v]:y.filter(P=>P!==v))},u=m=>{n(m.target.value)},N=(m,v)=>a(f=>f.map(y=>y.name===v?{...y,title:m.target.value}:y)),R=(m,v)=>{const{checked:f}=m.target;C(f?y=>[...y,v]:y=>y.filter(P=>P!==v))},T=(m,v)=>{const{checked:f}=m.target;x(f?y=>y.filter(P=>P!==v):y=>[...y,v])},F=(m,v)=>{const{checked:f}=m.target;L(f?y=>[...y,v]:y=>y.filter(P=>P!==v))};return p(Z,{stretch:!0,children:[s(ae,{className:"pb-1",children:s(re,{children:h("Columns")})}),p(le,{className:"overflow-auto",children:[p(se,{children:[p(ne,{className:"fw-bolder",children:[h("Customizers"),":"]}),p("div",{className:"d-flex gap-2",children:[s(B,{type:"switch",id:"reordering",label:h("Column Reordering"),name:"reordering",onChange:k,checked:e.includes("reordering")}),s(B,{type:"switch",id:"visibility",label:h("Column Visibility"),name:"visibility",onChange:k,checked:e.includes("visibility")})]})]}),p(se,{children:[p(ne,{className:"fw-bolder",children:[h("Resizing Mode"),":"]}),p("div",{className:"d-flex gap-2",children:[s(B,{type:"radio",id:"widget",label:h("Widget"),name:"widget",value:"widget",onChange:u,checked:t==="widget"}),s(B,{type:"radio",id:"nextColumn",label:h("Next Column"),name:"nextColumn",value:"nextColumn",onChange:u,checked:t==="nextColumn"})]})]}),p(se,{children:[p(ne,{children:[h("Display"),":"]}),p("table",{className:"table table-responsive table-bordered table-sm table-hover table-setting",children:[s("thead",{children:p("tr",{children:[s("th",{scope:"col",children:h("No")}),s("th",{scope:"col",children:h("KEY")}),s("th",{scope:"col",children:h("TITLE")}),s("th",{scope:"col",style:{textAlign:"left"},children:h("FIXED")}),s("th",{scope:"col",style:{textAlign:"left"},children:h("VISIBILITIES")}),s("th",{scope:"col",style:{textAlign:"left"},children:h("FILTERS")})]})}),s(rt,{tag:"tbody",list:o,setList:a,children:o.map((m,v)=>p("tr",{className:"cursor-pointer",children:[s("td",{className:"text-muted",children:v+1}),s("td",{className:"text-muted",children:m.name}),s("td",{className:"input-cell",children:s("input",{name:m.name,type:"text",value:h(m.title),onChange:f=>N(f,m.name),disabled:!0})}),s("td",{className:"text-left",children:s(B,{type:"checkbox",id:`${m.name}_fixed`,onChange:f=>R(f,m.name),checked:r.includes(m.name),className:"fs-5 cursor-pointer"})}),s("td",{className:"text-left",children:s(B,{type:"checkbox",id:`${m.name}_visibility`,onChange:f=>T(f,m.name),checked:!S.includes(m.name),className:"fs-5 cursor-pointer"})}),s("td",{className:"text-left",children:s(B,{type:"checkbox",id:`${m.name}_filter`,onChange:f=>F(f,m.name),checked:b.includes(m.name),className:"fs-5 cursor-pointer"})})]},m.name))})]})]})]})]})},Qt=({setDataSave:e,config:i})=>{const{columns:t,fixedColumns:n,settings:o,hiddenColumnNames:a,filterColumns:r,columnOrders:C,permissions:S,columnCustomizer:x,columnResizingMode:b,pageSizes:L}=i,h=o.map(O=>({value:O,label:O})),[k,u]=l.exports.useState(h.filter(O=>S.includes(O.value))),[N,R]=l.exports.useState(L),[T,F]=l.exports.useState(x),[m,v]=l.exports.useState(b),[f,y]=l.exports.useState(()=>C.map(O=>t.find(U=>U.name===O))),[P,j]=l.exports.useState(()=>{let O=[];return n.left&&(O=[...O,...n.left]),n.right&&(O=[...O,...n.right]),O}),[g,w]=l.exports.useState({left:[],right:[]});l.exports.useEffect(()=>{w(Xt(P,t))},[P,t]);const[E,$]=l.exports.useState(a),[A,G]=l.exports.useState(r);return l.exports.useEffect(()=>e({permissions:k.map(O=>O.value),columnCustomizer:T,columnResizingMode:m,columns:f,fixedColumns:g,pageSizes:N,hiddenColumnNames:E,filterColumns:A}),[k,T,m,f,g,N,E,A]),p(He,{children:[s(te,{sm:6,xs:12,children:s(Yt,{values:k,setValues:u,options:h})}),s(te,{sm:6,xs:12,children:s(Zt,{pageSizeValues:N,setPageSizeValues:R})}),s(te,{sm:12,children:s(qt,{customizerValue:T,setCustomizerValue:F,resizingModeValue:m,setResizingModeValue:v,columnDisplayValues:f,setColumnDisplayValues:y,fixedColumnValues:P,setFixedColumnValues:j,columnVisibilities:E,setColumnVisibilities:$,filterCols:A,setFilterCols:G})})]})},es=({isOpen:e,close:i,config:t,saveConfig:n})=>{const{t:o}=V(),[a,r]=l.exports.useState({}),C=()=>{n(a),i()};return s(it,{isOpen:e,toggle:i,title:o("Configs"),size:"xl",scrollable:!0,Body:s(Qt,{close:i,setDataSave:r,config:t}),Footer:p("div",{className:"d-flex justify-content-end",children:[s(D,{color:"secondary",className:"border-0 me-50",onClick:i,outline:!0,children:o("Cancel")}),s(D,{color:"primary",onClick:C,children:o("Save")})]})})},$e=()=>{const e=Ue(),{dataRows:i,columnStates:t,totalPage:n,currentPage:o,perPage:a,pageSizes:r,rowSelects:C,columnOrders:S,columnWidths:x,filters:b,filterColumns:L,columnResizingMode:h,fixedColumns:k,permissions:u,hiddenColumnNames:N,columnCustomizer:R}=Ke(d=>d.gridTables),{setDataRowAction:T,setColumnStateAction:F,setTotalPageAction:m,setCurrentPageAction:v,setPerPageAction:f,setPageSizesAction:y,setRowSelectsAction:P,setColumnOrdersAction:j,setColumnWidthsAction:g,setFiltersAction:w,setFilterColumnsAction:E,setColumnResizingModeAction:$,setFixedColumnsAction:A,setPermissionsAction:G,setHiddenColumnNamesAction:O,setColumnCustomizerAction:X,setConfigAction:U}=Je;return{dataRows:i,columnStates:t,totalPage:n,currentPage:o,perPage:a,pageSizes:r,rowSelects:C,columnOrders:S,columnWidths:x,filters:b,filterColumns:L,columnResizingMode:h,fixedColumns:k,permissions:u,hiddenColumnNames:N,columnCustomizer:R,setDataRows:d=>e(T(d)),setColumnStates:d=>e(F(d)),setTotalPage:d=>e(m(d)),setCurrentPage:d=>e(v(d)),setPerPage:d=>e(f(d)),setPageSizes:d=>e(y(d)),setRowSelects:d=>e(P(d)),setColumnOrders:d=>e(j(d)),setColumnWidths:d=>e(g(d)),setFilters:d=>e(w(d)),setFilterColumns:d=>e(E(d)),setColumnResizingMode:d=>e($(d)),setFixedColumns:d=>e(A(d)),setPermissions:d=>e(G(d)),setHiddenColumnNames:d=>e(O(d)),setColumnCustomizer:d=>e(X(d)),setConfig:d=>e(U(d))}},De=async({page:e,query:i,perPage:t,filters:n})=>{const o={...i.params,page:e+1,limit:t},a=n.map(r=>({key:r.key,value:r.value,expr:r.condition}));return await Ye.post(i.url,a,{params:o}).then(r=>r.data)},ts=({query:e,page:i,perPage:t,filters:n,initialFilters:o=[],columns:a})=>{const r=o.length>0?{enabled:n.length>0}:{},C=n.filter(S=>a.find(x=>S.key===(x.filterKey?x.filterKey:x.name)));return console.log("filterQuery",C),zt([e.key,{page:i,limit:t,f:C.map(S=>({[S.key]:S.value}))},e.params],()=>De({query:e,page:i,perPage:t,filters:C}),{...r})},ss=({dataQuery:e,query:i,page:t,perPage:n,filters:o,columns:a})=>{var S;const r=Xe(),C=o.filter(x=>a.find(b=>x.key===(b.filterKey?b.filterKey:b.name)));if(e&&e.metadata&&e.metadata.has_next){const x=Number(Math.ceil(((S=e==null?void 0:e.metadata)==null?void 0:S.total)/n));if(t<x){const b=t+1;r.prefetchQuery([i.key,{page:b,limit:n,f:o.map(L=>({[L.key]:L.value}))},i.params],()=>De({query:i,page:b,perPage:n,filters:C}))}}};function ns(e,i){const{pathname:t}=Ze(),{perPage:n,pageSizes:o,columnOrders:a,columnWidths:r,filters:C,filterColumns:S,fixedColumns:x,permissions:b,hiddenColumnNames:L,setColumnStates:h,setPerPage:k,setPageSizes:u,setColumnOrders:N,setColumnWidths:R,setFilters:T,setFilterColumns:F,setFixedColumns:m,setPermissions:v,setHiddenColumnNames:f}=$e(),{fixedCols:y,settings:P,initialFilters:j}=i;l.exports.useEffect(()=>{const g=I(Oe,t,e.map(E=>({...E,width:E.width||E.title.length*oe}))),w=e.map(E=>{const $=g.find(G=>G.name===E.name),A={...E,...$};return A.width=A.width||A.title.length*oe,A});h(w)},[e,t]),l.exports.useEffect(()=>{const g=e.map(w=>({title:w.title,width:w.width,name:w.name}));M(Oe,t,g)},[e,t]),l.exports.useEffect(()=>{const g=I(Ae,t,y);m(g)},[t]),l.exports.useEffect(()=>{M(Ae,t,x)},[x,t]),l.exports.useEffect(()=>{const g=I(Ee,t,e.map(w=>({columnName:w.name,width:w.width||w.title.length*oe})));R(g)},[e,t]),l.exports.useEffect(()=>{M(Ee,t,r)},[r,t]),l.exports.useEffect(()=>{const g=I(Te,t,e.map(w=>w.name));N(g)},[e,t]),l.exports.useEffect(()=>{M(Te,t,a)},[a,t]),l.exports.useEffect(()=>{const g=I(ze,t,10);g!==n&&k(g)},[t]),l.exports.useEffect(()=>{M(ze,t,n)},[n,t]),l.exports.useEffect(()=>{if(!o.includes(n)){const w=I(ie,t,[]).findIndex(E=>E===n);k(w!==-1?o[w]:o[0])}},[o]),l.exports.useEffect(()=>{const g=I(ie,t,o);u(g)},[t]),l.exports.useEffect(()=>{M(ie,t,o)},[o,t]),l.exports.useEffect(()=>{const g=I(Fe,t,j);T(g)},[t]),l.exports.useEffect(()=>{M(Fe,t,C)},[C,t]),l.exports.useEffect(()=>{const g=I(Re,t,e.map(w=>w.name));F(g)},[t,e]),l.exports.useEffect(()=>{M(Re,t,S)},[S,t]),l.exports.useEffect(()=>{const g=I(Ie,t,[]);f(g)},[t]),l.exports.useEffect(()=>{M(Ie,t,L)},[L,t]),l.exports.useEffect(()=>{const g=I(_e,t,P);v(g)},[t,P]),l.exports.useEffect(()=>{M(_e,t,b)},[b,t])}function os({entries:e,onExport:i,isCustomExport:t}){const{t:n}=V(),o=l.exports.useCallback(x=>{x.xlsx.writeBuffer().then(b=>{qe(new Blob([b],{type:"application/octet-stream"}),`${e}.xlsx`)})},[e]),a=l.exports.useRef(null),r=l.exports.useCallback(x=>{a.current.exportGrid(x)},[a]),C=({onToggle:x,buttonRef:b,...L})=>s("div",{className:"w-100 d-flex justify-content-end ms-1",children:p("button",{ref:b,className:"btn btn-warning btn-sm",onClick:()=>{t?i():x()},...L,children:[s(_t,{size:16}),s("span",{className:"align-middle ms-25",children:n("Export")})]})}),S={exportAll:n("Export All"),exportSelected:n("Export selected rows")};return{exporterRef:a,onSave:o,startExport:r,ExportButtonComponent:C,exportMessages:S}}function is(e){const i=e.includes("summary"),t=e.includes("pagination"),n=e.includes("selecting"),o=e.includes("reordering"),a=e.includes("exporting");return{canSummary:i,canPagination:t,canSelect:n,canReOrdering:o,canExport:a}}const ms=({providerComponents:e=[],TableRowDetailComponent:i,columns:t=[],columnExports:n=[],onExport:o,query:a={key:"",url:"",params:{}},formatData:r,entries:C="data",settings:S=[],fixedCols:x={left:[],right:[]},initialFilters:b=[],loading:L=!1})=>{const h=t.filter(c=>c.isGroup).length>0,{t:k}=V(),{dataRows:u,columnStates:N,totalPage:R,currentPage:T,perPage:F,pageSizes:m,rowSelects:v,columnOrders:f,columnWidths:y,filters:P,filterColumns:j,columnResizingMode:g,fixedColumns:w,permissions:E,hiddenColumnNames:$,columnCustomizer:A,setDataRows:G,setTotalPage:O,setCurrentPage:X,setPerPage:U,setRowSelects:ue,setColumnOrders:pe,setColumnWidths:ge,setFilters:he,setHiddenColumnNames:fe,setConfig:Ce}=$e();ns(t,{fixedCols:x,settings:S,initialFilters:b});const{data:_,isLoading:K}=ts({query:a,perPage:F,page:T,filters:P,initialFilters:b,columns:t});ss({dataQuery:_,query:a,perPage:F,page:T,filters:P,columns:t}),l.exports.useEffect(()=>{var c;if(_!=null&&_.data){let H=_.data.map(J=>({...J,updated_at:J.updated_at&&ke(J.updated_at),created_at:J.created_at&&ke(J.created_at)}));r&&(H=r(H));const ee=((c=_==null?void 0:_.metadata)==null?void 0:c.total_page)||0;G(H),O(ee)}},[_]);const{exporterRef:xe,onSave:be,startExport:ve,ExportButtonComponent:ye,exportMessages:Ne={}}=os({isCustomExport:o,onExport:()=>{if(v.length>0){const c=u.filter((H,ee)=>v.includes(ee));o(c)}else Qe.error(k("You must select at least one row to export"))},entries:C}),{canSummary:Y,canPagination:Se,canSelect:q,canReOrdering:we,canExport:d}=is(E),Ge=()=>s(Tt,{nextLabel:"",breakLabel:"...",previousLabel:"",pageRangeDisplayed:2,forcePage:T,marginPagesDisplayed:2,activeClassName:"active",pageClassName:"page-item",breakClassName:"page-item",nextLinkClassName:"page-link",pageLinkClassName:"page-link",breakLinkClassName:"page-link",previousLinkClassName:"page-link",nextClassName:"page-item next-item",previousClassName:"page-item prev-item",pageCount:R,onPageChange:c=>X(c.selected),containerClassName:"pagination react-paginate separated-pagination pagination-sm justify-content-end pe-1 mt-1"}),[Q,We]=l.exports.useState({filter:!1,setting:!1}),Pe=()=>We({...Q,setting:!Q.setting}),W=N.map(c=>({...c,title:k(c.title)}));return p(et,{children:[p("div",{className:"d-flex justify-content-between",children:[s("div",{children:p(tt,{className:"breadcrumb-dashes",children:[s(Le,{children:s(st,{to:"/",children:k("Home")})}),s(Le,{active:!0,children:p("span",{children:[" ",k(C)," "]})})]})}),s("div",{className:"d-flex align-items-center justify-content-end me-1 mb-1",children:s(D.Ripple,{className:"btn-icon",color:"primary",onClick:Pe,children:s(nt,{size:16})})})]}),p(Z,{className:"grid-table",children:[p(lt,{rows:K?[]:u,columns:W,children:[s(ct,{}),s(Ht,{for:W.filter(c=>c.isLink).map(c=>c.name)}),s(Kt,{for:W.filter(c=>c.isNumber).map(c=>c.name)}),e.length>0&&e.map((c,H)=>s(c,{},H)),s(dt,{selection:v,onSelectionChange:c=>ue(c)}),i&&s(mt,{}),Y&&s(ut,{totalItems:Jt(W)}),Y&&s(pt,{}),q&&s(gt,{}),s(ht,{height:K?"40vh":"auto",columnExtensions:W.filter(c=>c.align).map(c=>({columnName:c.name,align:c.align}))}),we&&s(ft,{order:f,onOrderChange:c=>pe(c)}),s(Ct,{columnWidths:y,onColumnWidthsChange:ge,resizingMode:g}),s(xt,{showGroupingControls:h}),i&&s(bt,{contentComponent:i}),s(vt,{hiddenColumnNames:$,onHiddenColumnNamesChange:c=>fe(c)}),q&&s(yt,{showSelectAll:!0,selectByRowClick:!0,highlightRow:!0}),h&&s(Nt,{}),Y&&u.length>0&&!K&&s(St,{}),s(wt,{}),s(Pt,{columns:W,filters:P,setFilters:c=>he(c),filterColumns:j,entries:C}),d&&s(kt,{startExport:ve,toggleButtonComponent:ye,messages:Ne}),h&&s(Lt,{showGroupingControls:!0}),s(Ot,{leftColumns:w.left||[],rightColumns:w.right||[]})]}),d&&s(Et,{ref:xe,rows:u,columns:n.length>0?n:W,selection:v,onSave:be}),(K||L)&&s(Rt,{}),Se&&s(ot,{children:p("div",{className:"d-flex justify-content-between align-item-center ",children:[s("div",{className:"mt-50",children:s(Me,{className:"mx-50",type:"select",id:"rows-per-page",value:F,onChange:c=>U(+c.target.value),style:{width:"5rem"},children:m.map(c=>s("option",{value:c,children:c},c))})}),s("div",{children:Ge()})]})})]}),s(es,{isOpen:Q.setting,close:Pe,entries:C,config:{columns:t,fixedColumns:w,settings:S,hiddenColumnNames:$,filterColumns:j,columnOrders:f,permissions:E,columnCustomizer:A,columnResizingMode:g,pageSizes:m},saveConfig:Ce})]})};export{ms as G};
