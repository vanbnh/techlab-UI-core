import{r as u,e as N,j as e,p as H,o as at,n as Ce,y as pe,R as rt,C as Le,a0 as xe,P as Re,t as Te,a1 as je,i as qe,b7 as st,b8 as we,L as Oe,O as it,ai as ot,b9 as lt,b2 as ct,a8 as De,a9 as pt,z as ut,ba as dt,bb as Fe,q as gt,W as mt,bc as ft,a3 as ht,bd as vt}from"./index.bb0be26b.js";import{D as Je,M as bt,q as Ct,C as ve,R as xt,a as Se,L as Me,r as $e,s as We,t as Ge,G as yt,d as kt,S as Nt,e as Pt,u as Lt,v as wt,I as Ot,V as St,g as Et,T as Rt,h as Tt,i as jt,j as At,k as _t,w as zt,x as It,l as Bt,m as Dt,E as Ft,y as Mt,o as $t,p as Wt,z as He,A as Ue,B as Ee,F as Ve}from"./index.8b7f1894.js";import{u as Gt}from"./useQuery.6abac293.js";import{L as Ht}from"./Loading.d1516e31.js";import{S as Ut}from"./SelectField.26f95277.js";function Vt(t,c){if(t==null)return{};var s=qt(t,c),a,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)a=r[i],!(c.indexOf(a)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,a)||(s[a]=t[a]))}return s}function qt(t,c){if(t==null)return{};var s={},a=Object.keys(t),i,r;for(r=0;r<a.length;r++)i=a[r],!(c.indexOf(i)>=0)&&(s[i]=t[i]);return s}var Ae=u.exports.forwardRef(function(t,c){var s=t.color,a=s===void 0?"currentColor":s,i=t.size,r=i===void 0?24:i,L=Vt(t,["color","size"]);return N("svg",{ref:c,xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...L,children:[e("circle",{cx:"12",cy:"12",r:"10"}),e("polyline",{points:"8 12 12 16 16 12"}),e("line",{x1:"12",y1:"8",x2:"12",y2:"16"})]})});Ae.propTypes={color:H.exports.string,size:H.exports.oneOfType([H.exports.string,H.exports.number])};Ae.displayName="ArrowDownCircle";const Jt=Ae;function Kt(t,c){if(t==null)return{};var s=Zt(t,c),a,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)a=r[i],!(c.indexOf(a)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,a)||(s[a]=t[a]))}return s}function Zt(t,c){if(t==null)return{};var s={},a=Object.keys(t),i,r;for(r=0;r<a.length;r++)i=a[r],!(c.indexOf(i)>=0)&&(s[i]=t[i]);return s}var _e=u.exports.forwardRef(function(t,c){var s=t.color,a=s===void 0?"currentColor":s,i=t.size,r=i===void 0?24:i,L=Kt(t,["color","size"]);return N("svg",{ref:c,xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...L,children:[e("circle",{cx:"12",cy:"12",r:"10"}),e("polyline",{points:"16 12 12 8 8 12"}),e("line",{x1:"12",y1:"16",x2:"12",y2:"8"})]})});_e.propTypes={color:H.exports.string,size:H.exports.oneOfType([H.exports.string,H.exports.number])};_e.displayName="ArrowUpCircle";const Yt=_e;function Xt(t,c){if(t==null)return{};var s=Qt(t,c),a,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)a=r[i],!(c.indexOf(a)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,a)||(s[a]=t[a]))}return s}function Qt(t,c){if(t==null)return{};var s={},a=Object.keys(t),i,r;for(r=0;r<a.length;r++)i=a[r],!(c.indexOf(i)>=0)&&(s[i]=t[i]);return s}var ze=u.exports.forwardRef(function(t,c){var s=t.color,a=s===void 0?"currentColor":s,i=t.size,r=i===void 0?24:i,L=Xt(t,["color","size"]);return N("svg",{ref:c,xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...L,children:[e("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),e("polyline",{points:"17 21 17 13 7 13 7 21"}),e("polyline",{points:"7 3 7 8 15 8"})]})});ze.propTypes={color:H.exports.string,size:H.exports.oneOfType([H.exports.string,H.exports.number])};ze.displayName="Save";const en=ze;function tn(t,c){if(t==null)return{};var s=nn(t,c),a,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)a=r[i],!(c.indexOf(a)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,a)||(s[a]=t[a]))}return s}function nn(t,c){if(t==null)return{};var s={},a=Object.keys(t),i,r;for(r=0;r<a.length;r++)i=a[r],!(c.indexOf(i)>=0)&&(s[i]=t[i]);return s}var Ie=u.exports.forwardRef(function(t,c){var s=t.color,a=s===void 0?"currentColor":s,i=t.size,r=i===void 0?24:i,L=tn(t,["color","size"]);return N("svg",{ref:c,xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...L,children:[e("polyline",{points:"3 6 5 6 21 6"}),e("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]})});Ie.propTypes={color:H.exports.string,size:H.exports.oneOfType([H.exports.string,H.exports.number])};Ie.displayName="Trash";const an=Ie,rn=({value:t,row:c,column:s})=>{const a=at(),i=s.validLink!==void 0?s.validLink(c):!0;return e("button",{type:"button",onClick:()=>i&&a(s.to(c)),className:`${i?"cursor-pointer text-decoration-underline text-primary":""} border-0 bg-transparent`,children:t})},sn=t=>e(Je,{formatterComponent:rn,...t}),on=["equal","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual"],ln=({value:t,onValueChange:c})=>e("input",{className:"form-control text-right",type:"number",placeholder:"Filter...",value:t===void 0?"":t,min:0,onChange:a=>{const{value:i}=a.target;if(i.trim()===""){c();return}c(parseInt(i,10))}}),cn=t=>e(Je,{availableFilterOperations:on,editorComponent:ln,...t}),de=(t,c,s)=>{let a={};const i=localStorage.getItem(t);i?a={...JSON.parse(i),[c]:s}:a={...a,[c]:s},localStorage.setItem(t,JSON.stringify(a))},ce=(t,c,s=[])=>{const a=localStorage.getItem(t);if(a){const i=JSON.parse(a);if(i&&i[c])return Array.isArray(i[c])&&i[c].length===0?s:i[c]}return s},pn=t=>t.reduce((c,s)=>s.summaries&&s.summaries.length>0?[...c,...s.summaries.map(a=>({columnName:s.name,type:a}))]:c,[]),un=(t,c)=>{const s={left:[],right:[]},a=c.map(r=>r.name),i=Math.round(c.length/2);return t.forEach(r=>{a.indexOf(r)+1<i?s.left.push(r):s.right.push(r)}),s},dn=({values:t,setValues:c,options:s})=>{const{t:a}=Ce(),i=s.map(L=>({...L,label:a(L.label)})),r=t.map(L=>({...L,label:a(L.label)}));return N(xe,{children:[e(Re,{className:"pb-1",children:e(Te,{children:a("Permissions")})}),e(je,{children:e(Ut,{placeholder:a("Select permissions..."),isMulti:!0,value:r,options:i,isClearable:!1,onChange:L=>c(L)})})]})},gn=({pageSizeValues:t,setPageSizeValues:c})=>{const{t:s}=Ce(),[a,i]=u.exports.useState(-1),[r,L]=u.exports.useState(-1),[b,x]=u.exports.useState(""),B=C=>{L(t[C]),i(C)},o=()=>{L(-1),i(-1),x("")},q=()=>{i(t.length),L(t[t.length-1]*2)},T=()=>{const C=[...t];a===t.length?C.push(r):C[a]=r,c(C.map(R=>+R)),o()},d=()=>{const C=[...t];C.splice(a,1),c(C),o()};return u.exports.useEffect(()=>{let C="";if(a===0&&t.length>1){const R=t[1];r>=R&&(C=`${s("The value must be less than")} ${R}`)}if(a>0&&a<t.length-1){const R=t[a-1],X=t[a+1];r<=R?C=`${s("The value must be greater than")} ${R}`:r>=X&&(C=`${s("The value must be less than")} ${X}`)}if(a===t.length){const R=t[t.length-1];r<=R&&(C=`${s("The value must be greater than")} ${R}`)}x(C)},[r,a,t]),N(xe,{stretch:!0,children:[e(Re,{className:"pb-1",children:e(Te,{children:s("Pagings")})}),N(je,{children:[N("div",{className:"d-flex overflow-auto",children:[t.map((C,R)=>e(pe,{outline:a!==R,className:"me-1",color:"primary",onClick:()=>B(R),size:"sm",children:C},C)),e("div",{children:e(pe.Ripple,{className:"btn-icon",color:"primary",onClick:q,children:e(Ct,{size:16})})})]}),a>-1&&N("div",{className:"row mt-1",children:[N("div",{className:"col-8 d-flex",children:[e("div",{children:e(qe,{type:"number",min:0,autoComplete:"custom-page-size-number",value:r,onChange:C=>L(C.target.value)})}),N("div",{className:"d-flex ms-1 mt-25",children:[e("div",{children:e(pe.Ripple,{color:"flat-secondary",className:"btn-icon",size:"sm",onClick:o,children:e(st,{size:16})})}),e("div",{children:e(pe.Ripple,{color:"flat-danger",className:"btn-icon",size:"sm",onClick:d,children:e(an,{size:16})})}),e("div",{children:e(pe.Ripple,{color:"flat-success",className:"btn-icon",size:"sm",onClick:T,children:e(en,{size:16})})})]})]}),b&&e("div",{className:"text-danger mt-25 ms-25",children:b})]})]})]})},mn=({customizerValue:t,setCustomizerValue:c,resizingModeValue:s,setResizingModeValue:a,columnDisplayValues:i,setColumnDisplayValues:r,fixedColumnValues:L,setFixedColumnValues:b,columnVisibilities:x,setColumnVisibilities:B,filterCols:o,setFilterCols:q})=>{const{t:T}=Ce(),d=y=>{const{name:D,checked:w}=y.target;c(A=>w?[...A,D]:A.filter(P=>P!==D))},C=y=>{a(y.target.value)},R=(y,D)=>r(w=>w.map(A=>A.name===D?{...A,title:y.target.value}:A)),X=(y,D)=>{const{checked:w}=y.target;b(w?A=>[...A,D]:A=>A.filter(P=>P!==D))},W=(y,D)=>{const{checked:w}=y.target;B(w?A=>A.filter(P=>P!==D):A=>[...A,D])},Q=(y,D)=>{const{checked:w}=y.target;q(w?A=>[...A,D]:A=>A.filter(P=>P!==D))};return N(xe,{stretch:!0,children:[e(Re,{className:"pb-1",children:e(Te,{children:T("Columns")})}),N(je,{className:"overflow-auto",children:[N(we,{children:[N(Oe,{className:"fw-bolder",children:[T("Customizers"),":"]}),N("div",{className:"d-flex gap-2",children:[e(ve,{type:"switch",id:"reordering",label:T("Column Reordering"),name:"reordering",onChange:d,checked:t.includes("reordering")}),e(ve,{type:"switch",id:"visibility",label:T("Column Visibility"),name:"visibility",onChange:d,checked:t.includes("visibility")})]})]}),N(we,{children:[N(Oe,{className:"fw-bolder",children:[T("Resizing Mode"),":"]}),N("div",{className:"d-flex gap-2",children:[e(ve,{type:"radio",id:"widget",label:T("Widget"),name:"widget",value:"widget",onChange:C,checked:s==="widget"}),e(ve,{type:"radio",id:"nextColumn",label:T("Next Column"),name:"nextColumn",value:"nextColumn",onChange:C,checked:s==="nextColumn"})]})]}),N(we,{children:[N(Oe,{children:[T("Display"),":"]}),N("table",{className:"table table-responsive table-bordered table-sm table-hover table-setting",children:[e("thead",{children:N("tr",{children:[e("th",{scope:"col",children:T("No")}),e("th",{scope:"col",children:T("KEY")}),e("th",{scope:"col",children:T("TITLE")}),e("th",{scope:"col",style:{textAlign:"left"},children:T("FIXED")}),e("th",{scope:"col",style:{textAlign:"left"},children:T("VISIBILITIES")}),e("th",{scope:"col",style:{textAlign:"left"},children:T("FILTERS")})]})}),e(xt,{tag:"tbody",list:i,setList:r,children:i.map((y,D)=>N("tr",{className:"cursor-pointer",children:[e("td",{className:"text-muted",children:D+1}),e("td",{className:"text-muted",children:y.name}),e("td",{className:"input-cell",children:e("input",{name:y.name,type:"text",value:y.title,onChange:w=>R(w,y.name),disabled:!0})}),e("td",{className:"text-left",children:e(ve,{type:"checkbox",id:`${y.name}_fixed`,onChange:w=>X(w,y.name),checked:L.includes(y.name),className:"fs-5 cursor-pointer"})}),e("td",{className:"text-left",children:e(ve,{type:"checkbox",id:`${y.name}_visibility`,onChange:w=>W(w,y.name),checked:!x.includes(y.name),className:"fs-5 cursor-pointer"})}),e("td",{className:"text-left",children:e(ve,{type:"checkbox",id:`${y.name}_filter`,onChange:w=>Q(w,y.name),checked:o.includes(y.name),className:"fs-5 cursor-pointer"})})]},y.name))})]})]})]})]})},fn=({setDataSave:t,config:c})=>{const{columns:s,fixedColumns:a,settings:i,hiddenColumnNames:r,filterColumns:L,columnOrders:b,permissions:x,columnCustomizer:B,columnResizingMode:o,pageSizes:q}=c,T=i.map(h=>({value:h,label:h})),[d,C]=u.exports.useState(T.filter(h=>x.includes(h.value))),[R,X]=u.exports.useState(q),[W,Q]=u.exports.useState(B),[y,D]=u.exports.useState(o),[w,A]=u.exports.useState(()=>b.map(h=>s.find(U=>U.name===h))),[P,ee]=u.exports.useState(()=>{let h=[];return a.left&&(h=[...h,...a.left]),a.right&&(h=[...h,...a.right]),h}),[_,ue]=u.exports.useState({left:[],right:[]});u.exports.useEffect(()=>{ue(un(P,s))},[P,s]);const[re,g]=u.exports.useState(r),[m,k]=u.exports.useState(L);return u.exports.useEffect(()=>t({permissions:d.map(h=>h.value),columnCustomizer:W,columnResizingMode:y,columns:w,fixedColumns:_,pageSizes:R,hiddenColumnNames:re,filterColumns:m}),[d,W,y,w,_,R,re,m]),N(rt,{children:[e(Le,{sm:6,xs:12,children:e(dn,{values:d,setValues:C,options:T})}),e(Le,{sm:6,xs:12,children:e(gn,{pageSizeValues:R,setPageSizeValues:X})}),e(Le,{sm:12,children:e(mn,{customizerValue:W,setCustomizerValue:Q,resizingModeValue:y,setResizingModeValue:D,columnDisplayValues:w,setColumnDisplayValues:A,fixedColumnValues:P,setFixedColumnValues:ee,columnVisibilities:re,setColumnVisibilities:g,filterCols:m,setFilterCols:k})})]})},hn=({isOpen:t,close:c,entries:s,config:a,saveConfig:i})=>{const{t:r}=Ce(),[L,b]=u.exports.useState({}),x=()=>{i(L),c()};return e(bt,{isOpen:t,toggle:c,title:r("Configs"),size:"xl",scrollable:!0,Body:e(fn,{close:c,setDataSave:b,config:a}),Footer:N("div",{className:"d-flex justify-content-end",children:[e(pe,{color:"secondary",className:"border-0 me-50",onClick:c,outline:!0,children:r("Cancel")}),e(pe,{color:"primary",onClick:x,children:r("Save")})]})})};var Ke={exports:{}};(function(t,c){(function(s,a){t.exports=a(u.exports)})(it,s=>(()=>{var a={703:(b,x,B)=>{var o=B(414);function q(){}function T(){}T.resetWarningCache=q,b.exports=function(){function d(X,W,Q,y,D,w){if(w!==o){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}function C(){return d}d.isRequired=d;var R={array:d,bigint:d,bool:d,func:d,number:d,object:d,string:d,symbol:d,any:d,arrayOf:C,element:d,elementType:d,instanceOf:C,node:d,objectOf:C,oneOf:C,oneOfType:C,shape:C,exact:C,checkPropTypes:T,resetWarningCache:q};return R.PropTypes=R,R}},697:(b,x,B)=>{b.exports=B(703)()},414:b=>{b.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},98:b=>{b.exports=s}},i={};function r(b){var x=i[b];if(x!==void 0)return x.exports;var B=i[b]={exports:{}};return a[b](B,B.exports,r),B.exports}r.n=b=>{var x=b&&b.__esModule?()=>b.default:()=>b;return r.d(x,{a:x}),x},r.d=(b,x)=>{for(var B in x)r.o(x,B)&&!r.o(b,B)&&Object.defineProperty(b,B,{enumerable:!0,get:x[B]})},r.o=(b,x)=>Object.prototype.hasOwnProperty.call(b,x),r.r=b=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(b,"__esModule",{value:!0})};var L={};return(()=>{r.r(L),r.d(L,{default:()=>re});var b=r(98),x=r.n(b),B=r(697),o=r.n(B);function q(){return q=Object.assign?Object.assign.bind():function(g){for(var m=1;m<arguments.length;m++){var k=arguments[m];for(var h in k)Object.prototype.hasOwnProperty.call(k,h)&&(g[h]=k[h])}return g},q.apply(this,arguments)}var T=function(g){var m=g.pageClassName,k=g.pageLinkClassName,h=g.page,Y=g.selected,U=g.activeClassName,J=g.activeLinkClassName,p=g.getEventListener,n=g.pageSelectedHandler,S=g.href,f=g.extraAriaContext,v=g.pageLabelBuilder,O=g.rel,j=g.ariaLabel||"Page "+h+(f?" "+f:""),G=null;return Y&&(G="page",j=g.ariaLabel||"Page "+h+" is your current page",m=m!==void 0?m+" "+U:U,k!==void 0?J!==void 0&&(k=k+" "+J):k=J),x().createElement("li",{className:m},x().createElement("a",q({rel:O,role:S?void 0:"button",className:k,href:S,tabIndex:Y?"-1":"0","aria-label":j,"aria-current":G,onKeyPress:n},p(n)),v(h)))};T.propTypes={pageSelectedHandler:o().func.isRequired,selected:o().bool.isRequired,pageClassName:o().string,pageLinkClassName:o().string,activeClassName:o().string,activeLinkClassName:o().string,extraAriaContext:o().string,href:o().string,ariaLabel:o().string,page:o().number.isRequired,getEventListener:o().func.isRequired,pageLabelBuilder:o().func.isRequired,rel:o().string};const d=T;function C(){return C=Object.assign?Object.assign.bind():function(g){for(var m=1;m<arguments.length;m++){var k=arguments[m];for(var h in k)Object.prototype.hasOwnProperty.call(k,h)&&(g[h]=k[h])}return g},C.apply(this,arguments)}var R=function(g){var m=g.breakLabel,k=g.breakClassName,h=g.breakLinkClassName,Y=g.breakHandler,U=g.getEventListener,J=k||"break";return x().createElement("li",{className:J},x().createElement("a",C({className:h,role:"button",tabIndex:"0",onKeyPress:Y},U(Y)),m))};R.propTypes={breakLabel:o().oneOfType([o().string,o().node]),breakClassName:o().string,breakLinkClassName:o().string,breakHandler:o().func.isRequired,getEventListener:o().func.isRequired};const X=R;function W(g){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return g!=null?g:m}function Q(g){return Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},Q(g)}function y(){return y=Object.assign?Object.assign.bind():function(g){for(var m=1;m<arguments.length;m++){var k=arguments[m];for(var h in k)Object.prototype.hasOwnProperty.call(k,h)&&(g[h]=k[h])}return g},y.apply(this,arguments)}function D(g,m){for(var k=0;k<m.length;k++){var h=m[k];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(g,h.key,h)}}function w(g,m){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(k,h){return k.__proto__=h,k},w(g,m)}function A(g,m){if(m&&(Q(m)==="object"||typeof m=="function"))return m;if(m!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P(g)}function P(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function ee(g){return ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},ee(g)}function _(g,m,k){return m in g?Object.defineProperty(g,m,{value:k,enumerable:!0,configurable:!0,writable:!0}):g[m]=k,g}var ue=function(g){(function(p,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(n&&n.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),n&&w(p,n)})(J,g);var m,k,h,Y,U=(h=J,Y=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var p,n=ee(h);if(Y){var S=ee(this).constructor;p=Reflect.construct(n,arguments,S)}else p=n.apply(this,arguments);return A(this,p)});function J(p){var n,S;return function(f,v){if(!(f instanceof v))throw new TypeError("Cannot call a class as a function")}(this,J),_(P(n=U.call(this,p)),"handlePreviousPage",function(f){var v=n.state.selected;n.handleClick(f,null,v>0?v-1:void 0,{isPrevious:!0})}),_(P(n),"handleNextPage",function(f){var v=n.state.selected,O=n.props.pageCount;n.handleClick(f,null,v<O-1?v+1:void 0,{isNext:!0})}),_(P(n),"handlePageSelected",function(f,v){if(n.state.selected===f)return n.callActiveCallback(f),void n.handleClick(v,null,void 0,{isActive:!0});n.handleClick(v,null,f)}),_(P(n),"handlePageChange",function(f){n.state.selected!==f&&(n.setState({selected:f}),n.callCallback(f))}),_(P(n),"getEventListener",function(f){return _({},n.props.eventListener,f)}),_(P(n),"handleClick",function(f,v,O){var j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},G=j.isPrevious,Z=G!==void 0&&G,oe=j.isNext,ge=oe!==void 0&&oe,K=j.isBreak,te=K!==void 0&&K,ne=j.isActive,se=ne!==void 0&&ne;f.preventDefault?f.preventDefault():f.returnValue=!1;var $=n.state.selected,I=n.props.onClick,V=O;if(I){var z=I({index:v,selected:$,nextSelectedPage:O,event:f,isPrevious:Z,isNext:ge,isBreak:te,isActive:se});if(z===!1)return;Number.isInteger(z)&&(V=z)}V!==void 0&&n.handlePageChange(V)}),_(P(n),"handleBreakClick",function(f,v){var O=n.state.selected;n.handleClick(v,f,O<f?n.getForwardJump():n.getBackwardJump(),{isBreak:!0})}),_(P(n),"callCallback",function(f){n.props.onPageChange!==void 0&&typeof n.props.onPageChange=="function"&&n.props.onPageChange({selected:f})}),_(P(n),"callActiveCallback",function(f){n.props.onPageActive!==void 0&&typeof n.props.onPageActive=="function"&&n.props.onPageActive({selected:f})}),_(P(n),"getElementPageRel",function(f){var v=n.state.selected,O=n.props,j=O.nextPageRel,G=O.prevPageRel,Z=O.selectedPageRel;return v-1===f?G:v===f?Z:v+1===f?j:void 0}),_(P(n),"pagination",function(){var f=[],v=n.props,O=v.pageRangeDisplayed,j=v.pageCount,G=v.marginPagesDisplayed,Z=v.breakLabel,oe=v.breakClassName,ge=v.breakLinkClassName,K=n.state.selected;if(j<=O)for(var te=0;te<j;te++)f.push(n.getPageElement(te));else{var ne=O/2,se=O-ne;K>j-O/2?ne=O-(se=j-K):K<O/2&&(se=O-(ne=K));var $,I,V=function(ae){return n.getPageElement(ae)},z=[];for($=0;$<j;$++){var le=$+1;le<=G||le>j-G||$>=K-ne&&$<=K+(K===0&&O>1?se-1:se)?z.push({type:"page",index:$,display:V($)}):Z&&z.length>0&&z[z.length-1].display!==I&&(O>0||G>0)&&(I=x().createElement(X,{key:$,breakLabel:Z,breakClassName:oe,breakLinkClassName:ge,breakHandler:n.handleBreakClick.bind(null,$),getEventListener:n.getEventListener}),z.push({type:"break",index:$,display:I}))}z.forEach(function(ae,ie){var me=ae;ae.type==="break"&&z[ie-1]&&z[ie-1].type==="page"&&z[ie+1]&&z[ie+1].type==="page"&&z[ie+1].index-z[ie-1].index<=2&&(me={type:"page",index:ae.index,display:V(ae.index)}),f.push(me.display)})}return f}),p.initialPage!==void 0&&p.forcePage!==void 0&&console.warn("(react-paginate): Both initialPage (".concat(p.initialPage,") and forcePage (").concat(p.forcePage,") props are provided, which is discouraged.")+` Use exclusively forcePage prop for a controlled component.
See https://reactjs.org/docs/forms.html#controlled-components`),S=p.initialPage?p.initialPage:p.forcePage?p.forcePage:0,n.state={selected:S},n}return m=J,(k=[{key:"componentDidMount",value:function(){var p=this.props,n=p.initialPage,S=p.disableInitialCallback,f=p.extraAriaContext,v=p.pageCount,O=p.forcePage;n===void 0||S||this.callCallback(n),f&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead."),Number.isInteger(v)||console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(v,"). Did you forget a Math.ceil()?")),n!==void 0&&n>v-1&&console.warn("(react-paginate): The initialPage prop provided is greater than the maximum page index from pageCount prop (".concat(n," > ").concat(v-1,").")),O!==void 0&&O>v-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(O," > ").concat(v-1,")."))}},{key:"componentDidUpdate",value:function(p){this.props.forcePage!==void 0&&this.props.forcePage!==p.forcePage&&(this.props.forcePage>this.props.pageCount-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(this.props.forcePage," > ").concat(this.props.pageCount-1,").")),this.setState({selected:this.props.forcePage})),Number.isInteger(p.pageCount)&&!Number.isInteger(this.props.pageCount)&&console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(this.props.pageCount,"). Did you forget a Math.ceil()?"))}},{key:"getForwardJump",value:function(){var p=this.state.selected,n=this.props,S=n.pageCount,f=p+n.pageRangeDisplayed;return f>=S?S-1:f}},{key:"getBackwardJump",value:function(){var p=this.state.selected-this.props.pageRangeDisplayed;return p<0?0:p}},{key:"getElementHref",value:function(p){var n=this.props,S=n.hrefBuilder,f=n.pageCount,v=n.hrefAllControls;if(S)return v||p>=0&&p<f?S(p+1,f,this.state.selected):void 0}},{key:"ariaLabelBuilder",value:function(p){var n=p===this.state.selected;if(this.props.ariaLabelBuilder&&p>=0&&p<this.props.pageCount){var S=this.props.ariaLabelBuilder(p+1,n);return this.props.extraAriaContext&&!n&&(S=S+" "+this.props.extraAriaContext),S}}},{key:"getPageElement",value:function(p){var n=this.state.selected,S=this.props,f=S.pageClassName,v=S.pageLinkClassName,O=S.activeClassName,j=S.activeLinkClassName,G=S.extraAriaContext,Z=S.pageLabelBuilder;return x().createElement(d,{key:p,pageSelectedHandler:this.handlePageSelected.bind(null,p),selected:n===p,rel:this.getElementPageRel(p),pageClassName:f,pageLinkClassName:v,activeClassName:O,activeLinkClassName:j,extraAriaContext:G,href:this.getElementHref(p),ariaLabel:this.ariaLabelBuilder(p),page:p+1,pageLabelBuilder:Z,getEventListener:this.getEventListener})}},{key:"render",value:function(){var p=this.props.renderOnZeroPageCount;if(this.props.pageCount===0&&p!==void 0)return p&&p(this.props);var n=this.props,S=n.disabledClassName,f=n.disabledLinkClassName,v=n.pageCount,O=n.className,j=n.containerClassName,G=n.previousLabel,Z=n.previousClassName,oe=n.previousLinkClassName,ge=n.previousAriaLabel,K=n.prevRel,te=n.nextLabel,ne=n.nextClassName,se=n.nextLinkClassName,$=n.nextAriaLabel,I=n.nextRel,V=this.state.selected,z=V===0,le=V===v-1,ae="".concat(W(Z)).concat(z?" ".concat(W(S)):""),ie="".concat(W(ne)).concat(le?" ".concat(W(S)):""),me="".concat(W(oe)).concat(z?" ".concat(W(f)):""),ye="".concat(W(se)).concat(le?" ".concat(W(f)):""),ke=z?"true":"false",Ne=le?"true":"false";return x().createElement("ul",{className:O||j,role:"navigation","aria-label":"Pagination"},x().createElement("li",{className:ae},x().createElement("a",y({className:me,href:this.getElementHref(V-1),tabIndex:z?"-1":"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":ke,"aria-label":ge,rel:K},this.getEventListener(this.handlePreviousPage)),G)),this.pagination(),x().createElement("li",{className:ie},x().createElement("a",y({className:ye,href:this.getElementHref(V+1),tabIndex:le?"-1":"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":Ne,"aria-label":$,rel:I},this.getEventListener(this.handleNextPage)),te)))}}])&&D(m.prototype,k),Object.defineProperty(m,"prototype",{writable:!1}),J}(b.Component);_(ue,"propTypes",{pageCount:o().number.isRequired,pageRangeDisplayed:o().number,marginPagesDisplayed:o().number,previousLabel:o().node,previousAriaLabel:o().string,prevPageRel:o().string,prevRel:o().string,nextLabel:o().node,nextAriaLabel:o().string,nextPageRel:o().string,nextRel:o().string,breakLabel:o().oneOfType([o().string,o().node]),hrefBuilder:o().func,hrefAllControls:o().bool,onPageChange:o().func,onPageActive:o().func,onClick:o().func,initialPage:o().number,forcePage:o().number,disableInitialCallback:o().bool,containerClassName:o().string,className:o().string,pageClassName:o().string,pageLinkClassName:o().string,pageLabelBuilder:o().func,activeClassName:o().string,activeLinkClassName:o().string,previousClassName:o().string,nextClassName:o().string,previousLinkClassName:o().string,nextLinkClassName:o().string,disabledClassName:o().string,disabledLinkClassName:o().string,breakClassName:o().string,breakLinkClassName:o().string,extraAriaContext:o().string,ariaLabelBuilder:o().func,eventListener:o().string,renderOnZeroPageCount:o().func,selectedPageRel:o().string}),_(ue,"defaultProps",{pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevPageRel:"prev",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextPageRel:"next",nextRel:"next",breakLabel:"...",disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function(g){return g},eventListener:"onClick",renderOnZeroPageCount:void 0,selectedPageRel:"canonical",hrefAllControls:!1});const re=ue})(),L})())})(Ke);const vn=ot(Ke.exports),Nn=({providerComponents:t=[],TableRowDetailComponent:c,columns:s=[],columnExports:a=[],onExport:i,query:r={key:"",url:"",params:{}},formatData:L,entries:b="data",settings:x=[],fixedCols:B={left:[],right:[]},loading:o=!1})=>{const T=s.filter(l=>l.isGroup).length>0,{pathname:d}=lt(),{t:C}=Ce(),[R,X]=u.exports.useState([]),[W,Q]=u.exports.useState([]),[y,D]=u.exports.useState(1),[w,A]=u.exports.useState(0),[P,ee]=u.exports.useState(10),[_,ue]=u.exports.useState([10,20,50,100]),[re,g]=u.exports.useState([]),[m,k]=u.exports.useState([]),[h,Y]=u.exports.useState([]),[U,J]=u.exports.useState([]),[p,n]=u.exports.useState([]),[S,f]=u.exports.useState("widget"),[v,O]=u.exports.useState(B),[j,G]=u.exports.useState(x),[Z,oe]=u.exports.useState([]),[ge,K]=u.exports.useState(["reordering","visibility"]),te=u.exports.useRef(null),ne=u.exports.useCallback(l=>{te.current.exportGrid(l)},[te]),se=ct(),$=async l=>{const E={...r.params,page:l+1,limit:P},M=U.map(F=>({key:F.key,value:F.value,expr:F.condition}));return await ht.post(r.url,M,{params:E}).then(F=>F.data)},{data:I,isLoading:V}=Gt([r.key,{page:w,limit:P,f:U.map(l=>({[l.key]:l.value}))},r.params],()=>$(w));u.exports.useEffect(()=>{var l;if(I&&I.metadata&&I.metadata.has_next){const E=Number(Math.ceil(((l=I==null?void 0:I.metadata)==null?void 0:l.total)/P));if(w<E){const M=w+1;se.prefetchQuery([r.key,{page:M,limit:P,f:U.map(F=>({[F.key]:F.value}))},r.params],()=>$(M))}}},[I]),u.exports.useEffect(()=>{var l;if(I!=null&&I.data){let E=I.data.map(F=>({...F,updated_at:F.updated_at&&De(F.updated_at),created_at:F.created_at&&De(F.created_at)}));L&&(E=L(E));const M=((l=I==null?void 0:I.metadata)==null?void 0:l.total_page)||0;X(E),D(M)}},[I]),u.exports.useEffect(()=>{const l=ce(Me,d,s.map(M=>({...M,width:M.width||M.title.length*Se}))),E=s.map(M=>{const F=l.find(be=>be.name===M.name),he={...M,...F};return he.width=he.width||he.title.length*Se,he});Q(E)},[s,d]),u.exports.useEffect(()=>{const l=s.map(E=>({title:E.title,width:E.width,name:E.name}));de(Me,d,l)},[s,d]),u.exports.useEffect(()=>{const l=ce(He,d,v);O(l)},[d]),u.exports.useEffect(()=>{de(He,d,v)},[v,d]),u.exports.useEffect(()=>{const l=ce($e,d,s.map(E=>({columnName:E.name,width:E.width||E.title.length*Se})));Y(l)},[s,d]),u.exports.useEffect(()=>{de($e,d,h)},[h,d]),u.exports.useEffect(()=>{const l=ce(We,d,s.map(E=>E.name));k(l)},[s,d]),u.exports.useEffect(()=>{de(We,d,m)},[m,d]),u.exports.useEffect(()=>{const l=ce(Ue,d,10);l!==P&&ee(l)},[d]),u.exports.useEffect(()=>{de(Ue,d,P)},[P,d]),u.exports.useEffect(()=>{if(!_.includes(P)){const E=ce(Ee,d,[]).findIndex(M=>M===P);ee(E!==-1?_[E]:_[0])}},[_]),u.exports.useEffect(()=>{const l=ce(Ee,d,_);ue(l)},[d]),u.exports.useEffect(()=>{de(Ee,d,_)},[_,d]),u.exports.useEffect(()=>{const l=ce(Ve,d,[]);J(l)},[d]),u.exports.useEffect(()=>{de(Ve,d,U)},[U,d]),u.exports.useEffect(()=>{const l=ce(Ge,d,s.map(E=>E.name));n(l)},[d,s]),u.exports.useEffect(()=>{de(Ge,d,p)},[p,d]);const z=j.includes("summary"),le=j.includes("pagination"),ae=j.includes("select"),ie=j.includes("reordering"),me=j.includes("export"),ye=j.includes("upload"),ke=({onToggle:l,buttonRef:E,...M})=>N("div",{className:"d-flex",children:[e("div",{className:"ms-2",children:N("button",{ref:E,className:"btn btn-warning btn-sm",onClick:()=>{if(i)if(re.length>0){const F=R.filter((he,be)=>re.includes(be));i(F)}else vt.error("You must select at least one row to export");else l()},...M,children:[e(Jt,{size:16}),e("span",{className:"align-middle ms-25",children:C("Export")})]})}),ye&&e("div",{className:"ms-50",children:N(pe,{color:"info",onClick:()=>{alert("upload")},target:"_blank",size:"sm",children:[e(Yt,{size:16}),e("span",{className:"align-middle ms-25",children:C("Upload")})]})})]}),Ne=u.exports.useCallback(l=>{l.xlsx.writeBuffer().then(E=>{pt(new Blob([E],{type:"application/octet-stream"}),`${b}.xlsx`)})},[b]),Ze=u.exports.useCallback(l=>{const{permissions:E,columnCustomizer:M,columnResizingMode:F,columns:he,fixedColumns:be,pageSizes:et,hiddenColumnNames:tt,filterColumns:nt}=l;G(E),K(M),f(F),Q(he),O(be),ue(et),oe(tt),n(nt)},[]),[Pe,Ye]=u.exports.useState({filter:!1,setting:!1}),Be=()=>Ye({...Pe,setting:!Pe.setting}),Xe=l=>{A(l.selected)},Qe=()=>e(vn,{nextLabel:"",breakLabel:"...",previousLabel:"",pageRangeDisplayed:2,forcePage:w,marginPagesDisplayed:2,activeClassName:"active",pageClassName:"page-item",breakClassName:"page-item",nextLinkClassName:"page-link",pageLinkClassName:"page-link",breakLinkClassName:"page-link",previousLinkClassName:"page-link",nextClassName:"page-item next-item",previousClassName:"page-item prev-item",pageCount:y,onPageChange:Xe,containerClassName:"pagination react-paginate separated-pagination pagination-sm justify-content-end pe-1 mt-1"}),fe=W.map(l=>({...l,title:C(l.title)}));return N(ut,{children:[N("div",{className:"d-flex justify-content-between",children:[e("div",{children:N(dt,{className:"breadcrumb-dashes",children:[e(Fe,{children:e(gt,{to:"/",children:C("Home")})}),e(Fe,{active:!0,children:N("span",{children:[" ",C(b)," "]})})]})}),e("div",{className:"d-flex align-items-center justify-content-end me-1 mb-1",children:e(pe.Ripple,{className:"btn-icon",color:"primary",onClick:Be,children:e(mt,{size:16})})})]}),N(xe,{className:"grid-table",children:[N(yt,{rows:R,columns:fe,children:[e(kt,{}),e(sn,{for:fe.filter(l=>l.isLink).map(l=>l.name)}),e(cn,{for:fe.filter(l=>l.isNumber).map(l=>l.name)}),t.length>0&&t.map((l,E)=>e(l,{},E)),e(Nt,{selection:re,onSelectionChange:l=>g(l)}),c&&e(Pt,{}),z&&e(Lt,{totalItems:pn(fe)}),z&&e(wt,{}),ae&&e(Ot,{}),e(St,{height:V?"40vh":"auto",columnExtensions:fe.filter(l=>l.align).map(l=>({columnName:l.name,align:l.align}))}),ie&&e(Et,{order:m,onOrderChange:l=>k(l)}),e(Rt,{columnWidths:h,onColumnWidthsChange:Y,resizingMode:S}),e(Tt,{showGroupingControls:T}),c&&e(jt,{contentComponent:c}),e(At,{hiddenColumnNames:Z,onHiddenColumnNamesChange:l=>oe(l)}),ae&&e(_t,{showSelectAll:!0,selectByRowClick:!0,highlightRow:!0}),T&&e(zt,{}),z&&R.length>0&&!V&&e(It,{}),e(Bt,{}),e(Dt,{columns:fe,filters:U,setFilters:l=>J(l),filterColumns:p,entries:b}),me&&e(Ft,{startExport:ne,toggleButtonComponent:ke}),T&&e(Mt,{showGroupingControls:!0}),e($t,{leftColumns:v.left||[],rightColumns:v.right||[]})]}),me&&e(Wt,{ref:te,rows:R,columns:a.length>0?a:fe,selection:re,onSave:Ne}),(V||o)&&e(Ht,{}),le&&e(ft,{children:N("div",{className:"d-flex justify-content-between align-item-center ",children:[e("div",{className:"mt-50",children:e(qe,{className:"mx-50",type:"select",id:"rows-per-page",value:P,onChange:l=>ee(+l.target.value),style:{width:"5rem"},children:_.map(l=>e("option",{value:l,children:l},l))})}),e("div",{children:Qe()})]})})]}),e(hn,{isOpen:Pe.setting,close:Be,entries:b,config:{columns:s,fixedColumns:v,settings:x,hiddenColumnNames:Z,filterColumns:p,columnOrders:m,permissions:j,columnCustomizer:ge,columnResizingMode:S,pageSizes:_},saveConfig:Ze})]})};export{Nn as G};
